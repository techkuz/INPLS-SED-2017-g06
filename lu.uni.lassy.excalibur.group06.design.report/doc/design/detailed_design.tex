\chapter{Detailed design}
\label{chap:detDesign}


Provide an introduction to the proposed design. This introduction should help
the reader to understand the design choices made.


\section{Interaction Model}
An Interaction Model describes how each \gls{system operation} (that appears in the
Operation Model of the \msrmessir Requirements Analysis Model) is designed to meet
its specification. The design description of each system operation must be
focused on the messages exchanged between the different first-class objects
(i.e. instances of classes either included in Concept Model or introduced as
result of a design choice). An Interaction Model is modeled as a UML Sequence
Diagram.


\subsection{oeSetClock}
An active message used to statically set the date and time information in the
systems state.\\

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeSetClock.eps} 
\end{center}
\caption{oeSetClock}
\end{figure}

\noindent Java Implementation:\\
void setDate(Datum date);\\
void setTime(int time);\\
int clock.getTime();\\


\subsection{oeSollicitateCrisisHandling}
A proactive message (message of a pro-active actor with no parameter triggered
automatically if the pre protocol condition is true) used to avoid crisis to
stay too long in an not handled status\\
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeSollicitateCrisisHandling.eps} 
\end{center}
\caption{oeSollicitateCrisisHandling}
\end{figure}

\noindent Java Implementation:\\
void sendMessage(String message);\\
void setTime(int time);\\
void sendResponse(String response);\\
String getResponse();\\

\subsection{oeAddCoordinator}
Sent to add a new coordinator in the systems post state and environments post
state.\\
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeAddCoordinator.eps} 
\end{center}
\caption{oeAddCoordinator}
\end{figure}

\noindent Java Implementation:\\
void AddCoordinator(String name);\\
String getCoordinator();\\
void sendResponse(String response);\\

\subsection{oeDeleteCoordinator}
Sent to delete an existing coordinator in the systems post state and
environments post state.\\
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeDeleteCoordinator.eps} 
\end{center}
\caption{oeDeleteCoordinator}
\end{figure}

\noindent Java Implementation:\\
void deleteCoordinator(String name);\\
String getCoordinator();\\
void sendResponse();\\

\subsection{oeLogin}
Sent to request authorization to request access secured system operations.\\
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeLogin.eps} 
\end{center}
\caption{oeLogin}
\end{figure}

\noindent Java Implementation:\\
void requestAuth(String credentials);\\
void setAuth(String credentials);\\
String sendResponse();\\

\subsection{oeLogout}
Sent to end the secured access to specific system operations

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeLogout.eps} 
\end{center}
\caption{oeLogout}
\end{figure}

\subsection{oeAlert}
Any human having a phone able to connect to the communication companies using
the iCrash system can send his company an sms message with structured
information in order to declare an alert

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeAlert.eps} 
\end{center}
\caption{oeAlert}
\end{figure}

\subsection{oeCloseCrisis}
Sent to indicate that a crisis should be considered as closed.

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeCloseCrisis.eps} 
\end{center}
\caption{oeCloseCrisis}
\end{figure}

\subsection{oeGetAlertsSet}
Sent to request all the ctAlert instances having a specific status.

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeGetAlertsSet.eps} 
\end{center}
\caption{oeGetAlertsSet}
\end{figure}

\subsection{oeGetCrisisSet}
Sent to request all the ctCrisis instances having a specific status.

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeGetCrisisSet.eps} 
\end{center}
\caption{oeGetCrisisSet}
\end{figure}

\subsection{oeInvalidateAlert}
Sent to indicate that an alert should be considered as closed.

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeInvalidateAlert.eps} 
\end{center}
\caption{oeInvalidateAlert}
\end{figure}

\subsection{oeReportOnCrisis}
Sent to update the textual information available for a specific handled crisis.

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeReportOnCrisis.eps} 
\end{center}
\caption{oeReportOnCrisis}
\end{figure}

\subsection{oeSetCrisisHandler}
Sent to declare himself as been the handler of a crisis having the specified id

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeSetCrisisHandler.eps} 
\end{center}
\caption{oeSetCrisisHandler}
\end{figure}

\subsection{oeCreateSystemAndEnvironment}
oeCreateSystemAndEnvironment sent to request the initialization of the systems
class instances and the environment actors instances.

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/oeCreateSystemAndEnvironment.eps} 
\end{center}
\caption{oeCreateSystemAndEnvironment}
\end{figure}

\subsection{init}
init used to create an instance of the actor together with its interface
instances and update the assocations with the ctState instance.

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{./images/init.eps} 
\end{center}
\caption{init}
\end{figure}




\section{Design Class Model}
	

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.9\textwidth]{./images/dcm_java.eps}
	\caption{UML Class Diagram - Package Java}
\end{figure}


\begin{figure}[h!]
	\centering
	\includegraphics[width=0.9\textwidth]{./images/dcm_stdlib.eps}
	\caption{UML Class Diagram - Package Stdlib}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.9\textwidth]{./images/dcm_db.eps}
	\caption{UML Class Diagram - Package DB}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.9\textwidth]{./images/dcm_environment.eps}
	\caption{UML Class Diagram - Package Environment}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.9\textwidth]{./images/dcm_types.eps}
	\caption{UML Class Diagram - Package Types}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.9\textwidth]{./images/dcm_testcases.eps}
	\caption{UML Class Diagram - Package Testcases}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.9\textwidth]{./images/dcm_utils.eps}
	\caption{Design UML Class Diagram - Package Utils}
\end{figure}


